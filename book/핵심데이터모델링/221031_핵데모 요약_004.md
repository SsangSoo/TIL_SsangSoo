# 데이터 모델링 이론

## ER 모델 구성요소_2


### 엔티티 분류

#### 엔티티 관계에 따른 분류
* 강한(Strong) 엔티티
  * 독립적으로 존재한다.
  * 엔티티 내에서 자체 식별자를 사용하여 고유하게 인스턴스를 식별할 수 있는 엔티티다.
* 약한(Weak) 엔티티
  * 다른 엔티티에 종속적이다.
  * 자체 식별자를 가지지 못하고, 다른 엔티티의 식별자를 상속받아 사용하는 엔티티를 말한다.
  
#### 엔티티 형태에 따른 분류
* 독립(Kernel, Master) 엔티티 
  * 원래부터 현실에 존재하는 엔티티
* 업무중심(Transaction) 엔티티
  * 업무를 처리하면서 발생하는 데이터에 해당하는 엔티티이다.
  * 주제 영역에서 가장 핵심이 되는 엔티티로 통상 주제영역 이름과 동일하거나 비슷한 의미의 이름을 갖는다.
* 종속(Dependent) 엔티티
  * 주로 업무중심 엔티티에서 1차 정규화로 인해 분리된 엔티티에 해당한다.
* 교차(Associative, Relative) 엔티티 
  * 두 개 이상의 엔티티 간에 발생하는 트랜잭션에 의해 생성되는 엔티티다.
  * 대부분 논리 모델링에서 다대다 관계를 해소하기 위해 도출된다.
  
#### 엔티티 생성 관점에 따른 분류
* 핵심(key) 엔티티 
  * 자신의 부모 엔티티를 갖지 않는 독립적이며, 핵심적인 엔티티다.
* 중요(Main) 엔티티
  * 핵심 엔티티 간의 거래 관계에 의해 생성되는 엔티티이지만, 업무의 핵심이 되는 엔티티다.
* 행위(Action) 엔티티
  * 실제 업무 행위에 의해서 지속해서 발생하는 거래 행위에 대한 엔티티다.
  
#### 엔티티 형태에 따른 분류
* 실체(Tangible) 엔티티
  * 눈으로 볼 수 있는 물리적인 형태를 가지는 엔티티
* 비실체(Intangible) 엔티티
  * 개념 엔티티
    * 물리적인 형태는 없으나 개념적으로 존재하는 비실체(Intangible) 엔티티이다.
  * 사건(Event) 엔티티
    * 업무 행위와 관련된 비실체(Intangible) 엔티티이며, 데이터가 빈번하게 생성되고, 변경되는 특성이 있다.
    
    

### 관계(Relationship) 
엔티티와 엔티티 간에 존재하는 업무 규칙을 정의하고, 엔티티 간에 어떤 관계가 이루어질 수 있는지 표현한다.

* 관계의 구성
  * 관계수(cardinality)
  * 선택성(optionality)
  * 식별성(Identifier)
  * 관계명
  
|구성요소|DA# (Barker표기) | ERwin(IE표기)|
|-|-|-|
|관계수<br>(Cardinality)|아무런 표시 없으면 1, <br> Crow's foot(<)이면 M|Bar(-)이면, 1 <br> Crow's foot(<)이면, M|
|선택성<br>(Optionality)|(상대쪽이) 점선이면 Optional,<br>(상대쪽이) 실선이면 Mandatory|Bar(-)이면 Mandatory, <br> O이면 Optional<br> 자기편에 표시됨|
|식별자상속|Bar(-)가 있으면 식별자 상속, 없으면 비식별자 상속|실선이면 식별자 상속<br>점선이면 비식별자 상속|

* 관계수(Cardinality) 
  * 어떤 엔티티의 인스턴스 하나가 다른 엔티티 몇개(1,m) 인스턴스와 대응될 수 있는지 표시한 것.
  * 최대 인스턴스 수와 관련이 있다.
  

* 선택성(optionality) 
  * 해당 엔티티 인스턴스에 대해 상대 엔티티에 인스턴스가 반드시 존재해야 하는지(Mandatory:필수), 존재하지 않아도 되는지(Optional) 표시한다.
  * 최소 인스턴스 수와 관련이 있다.
* 식별자 상속(Identifier Inheritance)
  * 엔티티 간의 관계를 정의하면서 엔티티의 식별자를 다른 엔티티에서 상속받을 때 식별자로 상속받을지(식별관계), 일반 속성으로 상속받을지(비식별관계) 표ㅣ한다.
* 관계명(Relationship Name) 
  * 관계의 의미나 이름을 표시한다.
    * (의미를 명확하게 표시한다는 측면에서 양쪽에 모두 기술하기도 하며, 관계선만으로도 의미가 통하는 경우 이름을 생략해도 무방하다.)

### 관계수(Cardinality)
* 일대일(1:1) 관계
  * **엔티티 개체 하나**가 다른 엔티티 개체 **하나**와 관계를 가지는 경우.
* 일대다(1:N) 관계
  * **엔티티 개체 하나**가 다른 엔티티 개체 **여러 개**와 관련이 있는 경우.
* 다대다(N:M) 관계
  * **어떤 엔티티 개체 하나**가 **다른 엔티티 개체 여러개와 관련이 있고**, **다른 엔티티 개체 하나**는 **어떤 엔티티 개체 여러 개**와 관계가 있다.
  
  
### 관계 선택성(optionality)
엔티티 인스턴스에 대해 상대 엔티티 인스턴스 존재 유무를 나타내며, 양쪽 필수, 한쪽 필수, 양쪽 선택으로 나누어진다.
* 필수(Mandatory)-필수(Mandatory) 관계
  * 어떤 엔티티의 인스턴스에 대해 다른 엔티티 인스턴스가 반드시 존재해야 하고, 다른 엔티티의 인스턴스에 대해 어떤 엔티티의 인스턴스도 반드시 존재해야 한다.
* 필수(Mandatory)-선택(Optional) 관계
  * 어떤 엔티티의 인스터스에 대해 다른 엔티티 인스턴스가 존재하지 않아도 되고, 다른 엔티티 인스턴스에 대해 어떤 엔티티 인스턴스는 반드시 존재해야 한다.
* 선택(Optional)-선택(Optional) 관계
  * 어떤 엔티티 인스턴스에 대해 다른 엔티티 인스턴스가 존재하지 않아도 되고, 다른 엔티티 인스턴스에 대해 어떤 엔티티 인스턴스도 존재하지 않아도 된다.
    * (종속 관계보다는 단순 참조 관계일 때 자주 나타난다.)

### 식별자 상속
* 식별관계
  * 참조되는 상위 엔티티 식별자가 참조하는 하위 엔티티 식별자로 상속되는 경우.
* 비식별 관계로 구분할 수 있다.
  * 식별자가 아닌 일반 속성으로 상속되는 경우를 말한다.


### 관계 유형
* 기본 관계
  * 엔티티와 엔티티가 하나의 관계를 맺는다. 
  * 가장 일반적인 관계이며, 1:1 또는 1:M 관계에 해당.
* 재귀적 관계
  * 하나의 엔티티가 다른 엔티티가 아닌 자기 자신과 관계를 맺는 경우 재귀적 관계 또는 순환 관계라고 한다.
  * 재귀적 관계는 Mandatory(필수) 관계를 가질 수 없으며, 반드시 Optional(선택) 관계를 갖는다.
* 병렬 관계
   * 엔티티와 엔티티 간에 두 개 이상의 관계를 맺는다.
* 슈퍼타입/서브타입 관계
  * 공통 속성을 관리하는 슈퍼타입 엔티티와 개별 속성을 관리하는 서브타입 엔티티는 배타적/포괄적인 관계를 가진다.
* 배타적인 관계
  * 엔티티가 두 개 이상의 다른 엔티티의 합집합과 관계를 가질 때 배타적인 관계 또는 아크(Arc) 관계라고 한다.
  * 동일한 의미를 가지는 관계에 대해 서로 다른 하나 이상 엔티티와 관계를 통합할 때 발생한다.
