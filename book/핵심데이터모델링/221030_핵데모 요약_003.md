# 데이터 모델링 이론

## ER 모델 구성 요소

* ER 모델의 구성요소로는 엔티티(Entity), 관계(Relationship), 속성(Attribute)이 있으며, 속성과 관계 중 하나 이상의 조합으로 구성된 식별자(Identifier)를 포함한다.

|ER 모델의 구성요소|
|-|
|엔티티(Entity)|
|관계(Relationship)|
|속성(Attribute)|
|식별자(Identifier)|

### 엔티티(Entity)
* 현실 세계에 실제로 존재하는 실체이거나, 개념적인 것.
* 철학적인 관점에서는 그냥 `존재하는 것` 그 자체다. 즉, 다른 존재나 실체로부터 독립되어 있음을 의미한다.

* 데이터 모델 측면에서 엔티티는 업무를 구현하는 데 필요하고 관리해야 하는 주체, 대상, 행위 등의 모든 집합적인 것(Thing)으로 정의할 수 있다.
  * C. J. Data : 데이터 베이스 내에서 구별할 수 있는 객체
  * Thomas Bruce : 정보로 관리할 수 있는 사람, 장소, 사물, 사건, 개념 등.
 ---
* 엔티티는 실체와 실체 간의 관계에 해당되는 엔티티를 포함한다.
* 엔티티는 적어도 **둘 이상의 인스턴스가 존재할 수 있어야 하고**, **최소한 둘이상의 속성이 있어야 하며**, 반드시 **각 인스턴스를 식별할 수 있는 속성이나 관계가 하나 이상 정의**되어야 한다.

```
일반적으로 얘기하는 엔티티(Entity)는 정확히 말하면 엔티티 타입(Entity Thpe)이다.
엔티티는 엔티티 타입의 실체(인스턴스)에 해당한다.
```
---
* 슈퍼타입, 서브타입 엔티티는 일반화/특수화 과정을 통해 도출된다.

**슈퍼타입 엔티티**
* 하나 이상의 이상의 서브타입 엔티티와 관계된 일반화된 엔티티
* 서브타입에 공통으로 존재하는 속성을 관리

**서브타입 엔티티**
* 각각의 서브타입에만 존재하는 고유한 속성을 관리
* 슈퍼타입의 식별자, 속성, 관계 등 모든 특성을 상속받는다.
---
#### 일반화(Generalization)
`표준국어대사전에서는 일반화를 "개별적인 것이나 특수한 것이 일반적인 것으로 됨. 또는 그렇게 만듦"으로 정의하고 있다.`

**엔티티의 일반화**
  * `엔티티 각각이 가지고 있는 고유한 특징`을 **일반화**하여 `공통의 속성으로 재정의한 것`으로, 보편적인 의미보다는 **공통적**인 의미에 더 가깝다고 볼 수 있다.
  * 엔티티를 일반화하게 되면 **여러개의 엔티티를 하나의 공통된 엔티티로** 만들 수 있다.
  * **두 개 이상의 하위 수준(개인고객과 법인고객 엔티티) 엔티티를 결합**하여 **상위 수준(고객 엔티티)의 엔티티로 통합**하는 **상향식 접근 방식**이다.
  * 상위 수준의 엔티티와 하위 수준의 엔티티를 일반화하여 표현할 수도 있다.
    * 계층 관계를 가지는 엔티티를 일반화하여 모델링 하는 경우를 흔히 볼 수 있다.

일반화는 인스턴스 존재 유형에 따라 완전/불완전, 배타적/포괄적 일반화로 나눌 수 있다.
* **유형**
  * **상위 수준 엔티티(슈퍼타입)의 모든 인스턴스**가 **하위 수준 엔티티(서브타입)의 인스턴스**에 
  **모두 존재하느냐 일부만 존재하느냐**에 따라 **완전(Total) 일반화와 불완전(Partial) 일반화**로 나눌 수 있다.
  * **상위 수준 엔티티의 모든 인스턴스**가 
  **하위 수준 엔티티 중**
  **하나에만 존재한다면 배타적 일반화**이고,
  **둘 이상의 하위 엔티티에 속한다면 포괄적 일반화**에 해당한다.

* 장점
  * 엔티티간의 배타 관계가 있으면 배타관계를 해소하여 업무 관계를 단순하게 정의할 수 있다.
* 단점
  * 개별 엔티티에서 관리하던 고유 속성의 의미가 불분명해질 수 있고,때에 따라 참조 무결성 및 도메인 무결성을 제대로 반영하지 못할 수 있다.
  
> 일반화 장점과 단점을 고려하여 판단하되, 업무에서 동일한 업무처리 대상이 되거나 동일한 관점엥서 데이터를 분석하고자 하는 경우 먼저 엔티티 일반화를 통해 엔티티를 통합할 수 있다.

#### 특수화(Specialization)
특수화는 일반화의 반대 개념으로, **하나의 상위 수준 엔티티를 두 개 이상의 하위 수준 엔티티로 분할**하는 **하향식 접근 방식**이다.

일반적으로 슈퍼타입을 정의하고, 서브타입과 속성을 정의한 후 관계를 정의한다.

#### 집단화(Aggregation)
- 기본 ER 모델의 표기법은 다른 관게를 포함하는 관계를 표현할 수 없다.
* 집단화는 **두 엔티티 간의 관계**를 **다른 새로운 하나의 엔티티**로 재정의 한 것을 의미한다.
* 집단화는 하나의 엔티티로 취급되는 두 개 엔티티 사이에서 나타나며, 해당 엔티티와의 관계가 상위 수준 엔티티로 대체된다.
