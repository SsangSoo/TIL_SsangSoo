# 데이터 모델링 이론

## ER 모델 구성 요소


#### 관계 차원
관계에 참여하는 엔티티의 수를 의미한다.
* 단항 관계(Unary Relationship)
  * 하나의 엔티티 내에 존재하는 관계를 말한다.
* 이항 관계(Binary Relationship)
  * 두 개 엔티티 간의 관계에 해당하며, 가장 일반적인 형태의 관계
* 삼항 관계(Ternary Relatioinship)
  * 세 개 엔티티 간의 관계에 해당.
  * *삼항 관계는 흔하게 나타나는 편은 아니다. 진짜 삼항 관계인지 아니면 이항 관계를 삼항 관계로 잘못 표현한 것인지 확인해야 한다.
 

### 속성(Attribute)
* 속성은 데이터를 표현하는 가장 작은 단위
* 속성이 가지는 의미를 통해 엔티티 특성이나 상태를 알 수 있따.
* 하나의 엔티티는 두 개 이상의 속성을 가지며, 속성명, 식별자여부, 옵셔널리티, 도메인 등으로 구성된다.
  * 속성명
    * 실체의 특성을 규정하는 속성 명칭
    * 업무에서 일반적으로 사용하는 용어를 사용하거나, 속성 의미를 명확하게 표현할 수 있도락 함축성 있는 **명사**를 사용하여 명명한다.
    * 일반적으로 속성명은 표준용어로 등록하고, 표준단어를 조합하여 구성한다.
  * 식별자여부
    * 해당 속성이 엔티티 식별자에 해당하는지 표시
  * 옵셔널리티
    * 엔티티에 인스턴스가 발생할 때 해당 속성이 반드시 특정값을 가져야 하는지에 대한 구분
      * Mandatory(반드시 값을 가져야 함) 
      * Optional(값을 갖지 않아도 됨)
      * Conditional(특정 조건에 해당하는 경우에는 반드시 값을 가져야 함)
  * 도메인
    * 속성이 허용하는 데이터 형식과 범위를 가지고 있으며, 문자형, 숫자형, 날짜형 등이 있다.
    
* 속성은 속성 값의 구성이나 성격에 따라 다양하게 분류할 수 있다.
  * 단순 속성(Simple Attribute)과 복합 속성(Composite Attribute)
    * 단순 속성은 속성을 더 분해할 수 없는 원자 값을 갖는다.
    * 복합 속성은 단순 속성들의 조합으로 구성된다.
    * 단순 속성과 복합 속성은 개념(이론)적인 구분이다.
      * 예시로 전화번호는 지역번호+국번호+전화번호, 주민등록번호는 생년월일+성별+.. 등으로 구성된다.
      * 개념적으로는 복합 속성의 성격을 띠지만 전화번호 주민등록번호 자체가 의미를 가지므로 단순 속성으로 보는 것이 더 타당하다.
  * 저장 속성(Stored Attribute)과 파생 속성(Derived Attribute)
    * 저장 속성은 원래 존재하는 속성이다.
    * 저장 속성이나 다른 파생 속성으로부터 파생된 속성이 파생 속성이다.
    * 파생 속성은 성능적인 목적 등 특수한 경우를 제외하고는 별도로 도출하지 않는 것이 일반적이다.
  * 단일 값(Single-valued) 속성과 다중 값(Multi-valued) 속성
    * 단일 값 속성은 하나의 값만 가지는 속성을 의미.
    * 다중 값 속성은 하나의 속성이 여러 개의 값을 가지는 속성을 말한다.
    * 다중 값 속성은 모델링 과정에서 정규화를 통해 별도 엔티티로 분리된다.
    
### 식별자(Identifier)
엔티티에서 인스턴스를 개별적으로 식별할 수 있는 속성(들)이다.
부모 엔티티와의 관계를 통해 상속된 식별자와 자체 식별자를 조합하여 정의할 수 있다.

* 식별자의 특징
  * 유일성(Uniqueness)
    * 엔티티의 모든 인스턴스를 유일하게 식별할 수 있어야한다.
  * 최소성(Minimum)
    * 식별자를 구성하는 속성은 유일성을 만족하는 최소 속성들로 구성해야 한다.
  * 불변성(Stablilty)
    * 엔티티의 식별자를 지정하면 그 식별자의 값은 변하지 않아야 한다.
  * 존재성(Mandatory)
    * 식별자는 반드시 데이터 값이 존재해야 한다.
    * (Not Null)
 
* 실 세계(업무)에서 자연적으로 가지는 특성인지, 시스템에서 필요에 의해 추가된 속성인지에 따라 **본질 식별자**와 **인조 식별자**로 나눌 수 있다.
  * **본질 식별자**는 실 세계(업무)에서 일반적으로 통용되는 식별자
  * **인조 식별자**는 업무에서 사용하지 않지만, 데이터를 효율적으로 관리하기 위해 별도로 추가한 식별자
* 대표성 여부에 따라 **주 식별자**와 주 식별자를 대체하는 **대체(보조) 식별자**로 분류할 수도 있다.
  * **주 식별자**와 **대체 식별자**는 상대적인 개념이다.
  * 어떤 본질 식별자 또는 인조 식별자가 주 식별자 일 때 다른 본질 식별자는 대체 식별자가 된다.
  
