# Amazon Web Service

## EC2(Elastic Compute Cloud)
> 주의 욕아님!

AWS에서 제공하는 클라우 컴퓨팅 서비스
* Elastic = 탄력(신축성)있는, 유연한  

EC2 서비스는 **사용한 만큼** 비용을 지불하기 때문에, `탄력적인`이라는 의미의 **Elastic**이라는 단어가 붙었다.
비용적인 부분뿐만 아니라 필요에 따라 성능, 용량을 자유롭게 조절할 수 있다는 의미도 있다.

> EC2 서비스는 AWS에서 비용,성능,용량 면에서 탄력적인 클라우드 컴퓨터를 제공하는 서비스라고 할 수 있다.

### EC2 서비스의 장점
1. 필요한 시간이 짧다.
2. AMI를 통해서 필요한 용도에 따라 다양한 운영체제에 대한 선택이 가능하다.
3. 운영체제뿐만이 아니라 CPU와 RAM, 용량 까지도 손쉽게 구성가능하다.

컴퓨터를 한 대 빌리는 것이므로 컴퓨터로 할 수 있는 모든 일을 할 수 있다.(빌린 한대의 컴퓨터를 **인스턴스**라고 하고, AWS에서 컴퓨터를 빌리는 것을 **인스턴스를 생성한다**라고 한다.)
EC2를 통해서 할 수 있는 가장 기본적인 일은 웹서버를 설치하고, 웹 서버를 통해서 사용자가 웹 브라우저를 통해 요청하는 서비스를 제공한는 것이다.


## AMI(Amazon Machine Image)
소프트웨어 구성이 기재된 템플릿.
다양한 템플릿들이 제공된다.
사용용도에 맞게 운영체제, 런타임 등이 구성된 Setting을 선택할 수 있다. 상당히 많은 양의 Image가 AWS에 미리 준비되어 있으며, 선택된 image를 바탕으로 Instance의 운영체제가 결정된다.
* 인스턴스는 선택한 AMI를 토대로 구성된다.
* AWS에는 상당히 많은 양의 AMI 세팅이 준비되어 있기 때문에 손쉽게 인스턴스의 운영체제를 구성할 수 있다.

> AWS EC2 인스턴스를 생성한다는 것은 AMI를 토대로 운영체제, CPU, RAM 혹은 런타임 등이 구성된 컴퓨터를 빌리는 것이다.


## RDS(Relational Database Service)
AWS에서 제공하는 관계형 데이터 베이스 서비스.

만약 EC2에 데이터베이스를 설치해서 데이터를 관리한다면, 데이터베이스 규모확장, 가용성, 내구성 확보, 데이터 백업, 데이터 베이스 설치/관리 등 데이터 베이스와 관련 된 모든 것들을 개인 운영자가 해야한다.

하지만, RDS를 사용하면 이를 AWS가 관리해주기 때문에, 편의성을 많이 느낄 수 있다.


### RDS 장점
* 사용자가 하는 일은 초기 설정을 제외하고 데이터베이스에 저장된 데이터를 관리하는 일 밖에 없어 편리하다.
* 다양한 데이터베이스 엔진 선택지를 제공한다. 필요와 목적에 맞게 데이터베이스를 선택하면 된다.


## S3(Simple Storage Service)

**잠깐.**
Cloud Storage를 알아야하는데, 클라우드 스토리지란 인터넷 공간에 데이터를 저장하는 저장소이다.

* 예) Google Drive, 네이버의 MyBox, 마소의 Onedrive 등.

장점으로는 뛰어난 접근성이 있다.

**S3**는 AWS에서 제공하는 클라우드 스토리지 서비스이다.
### S3의 이점
1. 높은 확장성
    * 확장성이 높으면 많은 시간과 수고를 들이지 않고 스토리지 규모를 확장/축소할 수 있다. 
    * 스토리지의 용량을 무한히 확장할 수 있고, 사용한 만큼만 비용을 지불하면 되기 떄문에 비용적인 측면에서 매우 효율적이다.
2. 높은 내구성
    * 내구성이 높으면 저장된 파일을 유실할 가능성이 적다.
3. 높은 가용성 
    * 가용성이 높으면 스토리지에 저장된 파일들을 정상적으로 사용할 수 있는 기간이 길어진다.
    * AWS에는 **Region(리전)**이라는 것이 있다.
      * 리전은 클라우스 서비스를 제공하기 위해서 운영하는 물리적인 서버의 위치를 뜻한다.
      * 그리고 각 리전마다 가용 영역이 있다. 
        * 가용 영역(Availability Zone)이란, 각 리전 안에 존재하는 데이터 센터를 뜻한다.
       * 가용 영역은 각각 개별적인 위치에 떨어져서 존재한다. 이로 인해서 한 곳의 가용 영역이 재난이나 사고로 인해 가동이 불가능해지더라도 다른 가용 영역에 백업을 해놓은 데이터를 활용하여 문제 없이 서버가 가동되게 한다.
       
4. 다양한 스토리지 클래스를 제공한다.
    * 저장소를 어떤 목적으로 활용할지에 따라 효율적으로 선택할 수 있는 스토리지 클래스가 달라지낟.
    * 대표적으로 많이 사용하는 클래스
      * Standard 클래스
        * 범용적인 목적으로 사용하기 좋다.
        * 데이터에 빠른 속도로 접근할 수 있다. 
        * 데이터 액세스 요청에 대한 처리 속도가 빠르다.
        * 데이터를 오래 보관하는 목적으로는 효율적인 선택지는 아니다. 보관 비용이 높게 발생한다.
      * Glacier 클래스
        * 장기적인 보관 목적으로 사용할 때 효율적
        * 저장된 데이터에 액세스하는 속도는 느리지만, 데이터를 보관하는 비용이 매우 저렴하다.
    * 이 외에도 여러가지 스토리지 클래스가 존재한다.

5, 정적 웹 사이트 호스팅이 가능하다.
 * 정적 웹 사이트 호스팅이란?
   * 정적 파일
     * 서버의 개입 없이 생성된 파일, <-> 클라이언트가 서버에 요청을 보내어, 서버가 요청에 맞추어 생성한 파일을 동적파일이라고 한다. 
   * 웹 호스팅(Web Hosting)
     * 서버의 한 공간을 임대해주는 서비스
     * S3엣는 버킷이 사용자들이 정적 웹 사이트를 배포할 수 있는 공간을 제공한다.
   * 버킷이라는 저장 공간에 정적 파일을 업로드하고 버킷을 정적 웹 사이트 호스팅 용도로 구성하면 정적 웹 사이트를 배포할 수 있다.
   
 * **버킷**?
   * 버킷은 S3에 저장되는 파일이 담기는 바구니(최상위 디렉토리)
   * S3에 저장되는 모든 파일은 버킷 안에 저장되어야 하며, 무한히 많은 파일을 저장 가능하다.
   * 버킷의 이름은 버킷이 속해있는 리전(버킷이 생성된 지역)에서 고유해야 한다.
   * 버킷의 정책을 생성하여 엑세스 권한을 부여 가능하다.
   * 버킷에 담기는 파일을 객체라고 부른다.
 * **객체**
   * S3에 저장되는 객체는 파일과 메타데이터로 구성된다.
     * 파일
       * 파일은 **키-값** 페어 형식으로 데이터를 저장
       * 파일의 **값**에는 실제 데이터를 저장한다.
       * S3 객체의 **값**으로써 저장될 수 있는 **데이터의 최대 크기는 5TB**이다.
       * 파일의 **키**는 각각의 객체를 고유하게 만들어주는 식별자 역할을 한다. 이 **키를 이용해서 원하는 객체를 검색할 수 있다.**
     * 메타데이터
       * 객체의 생성일, 크기, 유형과 같은 객체에 대한 정보가 담긴 데이터.
       * 객체를 설명하는 데이터.
   * 모든 객체는 고유한 URL주소를 가지고 있다.
   * URL주소는 `http://[버킷의이름].S3.amazonaws.com/[객체의 키]`의 형태를 띤다. 
   * URL 주소를 통해서도 원하는 데이터에 접근할 수 있다.
   

## Deploy Strategy
개발한 서비스를 사용자가 이용할 수 있도록 하는 것을 배포라고 한다.
AWS에서 제공하는 S3 서비스로 사용자들에게 client를 제공할 수 있다.
서비스를 제공할 때, 클라이언트 앱을 **정적 파일로 빌드해서 제공**하는데 S3을 이용해서 클라이언트를 배포한다.


### 빌드
불필요한 데이터를 없애고, 통합/압축하여 배포하기 최적화된 상태를 만드는 것. 그렇다보니, 빌드를 진행하기 전과 비교했을 때 데이터의 용량이 줄어들고 웹 사이트의 로딩 속도가 빨라진다는 장점이 있다.


#### S3로 사용자들에게 서비를 제공하고 있는데, 사용자가 지구 반대편에 있다면 어떻게 빠르게 서비스를 제공할 수 있을까?
AWS에서 제공하는 CDN 서비스인 CloudFront를 통해서 각지의 데이터센터에 데이터를 분산시켜서 저장해두고 가까운 지역에서 데이터를 주는 방식으로 사용자에게 더 빨그ㅔ 서비스를 제공할 수 있다.

#### 사용자들이 제공받은 Client App을 통해서 요청전달할 떄, Server Application은 어떻게 배포해야할까?
* AWS Ec2 서비스를 통해서 서버를 구성하고 서비스를 제공할 수 있다.
* AWS가 유지보수 작업을 담당하는 RDS를 이용해서 데이터베이스를 즉시 사용 가능하다.
* RDS 서비스를 이용해서 EC2로 배포된 ServerApplication의 데이터를 저장, 제공하는 데이터베이스를 배포할 수 있다.

AWS에서 제공하는 **Rout53** 서비스를 이용하면 직관적인 도메인 주소를 통해서 서비스에 접근하도록 할 수 있다.

   
