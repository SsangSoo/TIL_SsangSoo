# 데이터 모델링 이론

## 관계형 데이터 모델 이론

#### 관계형 데이터 모델
* 데이터를 2차원 테이블(표) 형식으로 정의하고 표현한 모델
* 테이블 형태를 **릴레이션(Relation)**이라고 한다.
* 릴레이션은 수학적으로 두 개 이상의 집합으로부터 각 집합을 구성하는 원소들의 순서쌍에 대한 집합을 의미한다.
    * 릴레이션 스키마(헤더)
      * 정의에 해당
      * **구성 요소**
        * 릴레이션 명
        * 애트리뷰트(Attribute)
    * 릴레이션 인스턴스(본문)
      * 본문에 해당
      * **구성 요소**
        * 튜플(Tuple)
      
**애트리뷰트와 튜플**      
* 애트리뷰트(Attribute)
  * 릴레이션을 구성하는 각 열을 의미한다.
  * 애트리뷰트는 더 쪼갤 수 없는 원자 값으로 구성된다.
  * 애트리뷰트 역시 튜플의 순서처럼 **순서가 의미를 가지지 않는다.**
  * 애트리뷰터 명칭은 서로 다르며, 유일하지만, 애트리뷰터 값은 동일해도 상관없다.
* 튜플(Tuple)
  * 릴레이션의 각 행에 해당하며, 인스턴스 데이터이다.
  * 릴레이션의 튜플은 모두 다른 값을 가지며 중복된 튜플을 허용하지 않는다.
  * 튜플들은 **순서와 무관**하며 **순서가 특별한 의미를 가지지 않는다.**
  
> 주의
> 관계형 모델 != 관계형 데이터베이스
> : 관계형 데이터베이스가 관계형 모델을 기본으로 하고 있지만 사용하는 용어나 일부 개념이 다른 것도 사실이다.
> 관계형 모델에서 사용하는 `릴레이션`, `애트리뷰트`, `튜플`은 우리가 흔히 알고 있는 관계형 데이터베이스의 `테이블`, `컬럼`, `로우`로 대응된다.
  
---

### 관계형 모델의 키

#### 슈퍼 키(Super Key)
* 튜플을 고유하게 식별할 수 있는 **속성 집합**
* 릴레이션은 한 개 이상의 슈퍼 키를 가질 수 있으며, 슈퍼 키 값은 모든 튜플에서 유일해야 한다.

#### 후보 키(Candidate Key)
* 튜플을 고유하게 식별 할 수 있는 최소한의 속성 **집합**을 `후보 키`라고 한다.
* **모든 후보 키는 슈퍼 키**이지만, **모든 슈퍼키가 후보 키는 아니다.**
  * 슈퍼 키가 후보 키를 **포함**한다.

#### 기본 키(Primary Key)
* 릴레이션은 하나 이상의 후보 키가 있을 수 있으며 그 중 하나만을 기본 키로 선택할 수 있다.
* 후보 키와 마찬 가지로 유일성, 최소성을 가진다.

#### 대체 키(Alternate Key)
* 후보 키 중에 **기본 키가 아닌 후보 키**가 `대체 키`에 해당한다.

#### 외래 키(Foreign Key)
* 어떤 릴레이션의 애트리뷰트 값이 다른 릴레이션에 속한 애트리뷰트의 기본 키를 참조하는 경우를 말한다.
* 외래 키는 NULL이 될 수 있고, 중복된 튜플을 가질 수 있다.

---

### 제약 조건
* 키 제약조건
  * 튜플을 유일하게 식별할 수 있는 애트리뷰트들로 구성.
  * 다른 튜플의 키 값과 중복된 값이 있어서는 안 된다.
* 무결성 제약조건
  * 실체무결성
    * 릴레이션의 기본키를 구성하는 모든 애트리뷰트는 NULL 값이 아니어야 하고, 릴레이션 내에서 오직 하나의 값만 존재해야 한다.
  * 영역무결성
    * 릴레이션 내의 각 애트리뷰트 값은 반드시 정의된 도메인에 속한 값이어야 한다.
  * 참조무결성
    * 자식 릴레이션의 외래키는 참조하는 부모 릴레이션의 기본키 값 이외의 값을 가질 수 없으며, 두 릴레이션 값의 일관성을 유지해야 한다.
    
---

### 함수 종속(Functional Dependency)
* 함수 종속성
  * 일종의 무결성 제약조건으로서 키의 개념을 일반화한 것.
  * 어떤 릴레이션 R에서 `속성 X의 값 각각에 대해 속성 Y의 값이 오직 하나만 연관되어 있을 때` Y는 X에 함수적으로 종속되어 있다고 하고, `X -> Y`로 표시한다.
  * X의 속성 값이 Y의 속성 값을 결정하며 이때 X를 `결정자(Determinant)`라 하고, Y를 `종속자(dependent)`라고 한다.
     * 테이블의 특정 컬럼 A의 값을 알게 되면 다른 컬럼 B의 값을 알 수 있을 때, 컬럼 B는 컬럼 A에 함수적 종속성이 있다고 한다.
  * 함수 종속성의 분류
    * 완전 함수종속(Full Functional Dependency) - 제1정규형과 관련
      * 임의의 릴레이션 R에서 **속성 또는 속성들의 집합** X에 대해 Y가 함수적으로 종속되나, X의 **부분 집합에 대하여서는 함수적으로 종속하지 않은 경우**, Y는 X에 대하여 `완전 함수적 종속성을 갖는다`고 한다.
    * 부분 함수종속(Partial Funtional Dependency) - 제2정규형과 관련
      * 완전하게 함수적으로 종속하지 않으면 부분 함수종속성을 갖는다. 
      * **여러 개의 속성이 모여서 하나의 기본키를 이룰 경우**, 기본키를 구성하는 **일부 속성만으로도 종속관계가 결정**되면 `부분 함수종속`이라고 한다.
    * 이행적 함수종속(Transitive Functional Dependency) - 제3정규형과 관련
      * 함수 종속관계 X -> Y와 Y -> Z 가 성립되면, 논리적 결과로 X -> Z 가 성립한다. 이 때 속성 Z는 X에 `이행적 함수종속성을 갖는다.`
    * 결정자 함수종속 - BCNF과 관련
    * 다중 값 종속 - 제4정규형과 관련
    * 조인 종속 - 제5정규형과 관련
    
---
11월 5일 분량 보충..
